!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./static_dirs/desktop/ts/index.ts")}({"./static_dirs/desktop/ts/App.ts":
/*!***************************************!*\
  !*** ./static_dirs/desktop/ts/App.ts ***!
  \***************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),s=o(/*! ./AppHistory */"./static_dirs/desktop/ts/AppHistory.ts"),i=o(/*! ./AppComponents */"./static_dirs/desktop/ts/AppComponents.ts"),r=o(/*! ./AppForm */"./static_dirs/desktop/ts/AppForm.ts"),l=function(){function e(){this._history=null,this._header=null,this._name="App",this._history=new s.AppHistory,this._header=new i.AppHeader,this.init()}return e.Instance=function(){return this._instance||(this._instance=new this)},e.prototype.init=function(){console.log("+App::init"),t(document).on("submit","form.ajax-form",function(e){e.preventDefault(),r.AjaxForm.make(t(this)).submit(e)}),t(document).on("click",".app_vlist_exp_item > a",function(e){e.preventDefault(),t(this).parent().toggleClass("expanded")}),t(document).on("click",function(e){t(".ui-dropcontent").hide()}),t(document).on("click",".ui-dropbtn",function(e){e.stopPropagation(),t(e.target).parents(".ui-dropdown").find(".ui-dropcontent").toggle()}),t(document).on("click",".ui-hovermenu",function(t){console.log("hovermenu clicked"),t.preventDefault(),t.stopPropagation()})},e.prototype.show=function(){console.log("+App::show")},e.prototype.name=function(){return n.AppUtil.Instance().name()},e._instance=null,e}();e.App=l}).call(this,o(/*! jquery */"jquery"))},"./static_dirs/desktop/ts/AppComponents.ts":
/*!*************************************************!*\
  !*** ./static_dirs/desktop/ts/AppComponents.ts ***!
  \*************************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),r=o(/*! ./HttpService */"./static_dirs/desktop/ts/HttpService.ts"),l=function(){function t(t){this._config={navbar_btn:"#navbar_btn"},i.ObjectUtil.Instance().merge(this._config,t),s.default(this._config.navbar_btn).on("click",this._onNavClicked.bind(this))}return t.prototype._onNavClicked=function(t){console.log("+AppNavBar::_onNavClicked");var e=document.getElementById("app_leftnav"),o=document.getElementById("app_page");e&&o&&(console.log("marginLeft: "+e.style.marginLeft),"-20%"!==e.style.marginLeft?(e.style.marginLeft="-20%",o.style.width="95%",o.style.margin="0 auto"):(e.style.marginLeft="0",o.style.marginLeft="20%",o.style.width="80%"))},t}();e.AppNavbar=l;var a=function(){function t(t){void 0===t&&(t="#app_search_input"),s.default(t).OptionList({source:this.source,itemCreate:this.itemCreate,onItemSelect:this.onItemSelect,onEnter:this.onEnter},{minLength:2})}return t.prototype.source=function(t,e){(new r.HttpService).post("/search/offer/",{key:t},function(t,o){1==t?e(o.data):console.log("data : "+JSON.stringify(o.data))})},t.prototype.itemCreate=function(t){return'<li>\n                        <div class="wt-search-item">\n                            <a style="display:block; padding: 0.5em;" href="'+t.url+'"> '+t.name+"</a>\n                        </div>\n                    </li>"},t.prototype.onItemSelect=function(t,e){t.val(e.name)},t.prototype.onEnter=function(t,e){console.log("+onEnter"),e&&(location.href=e.url)},t}();e.AppSearchbar=a;var c=function(){return function(){this._navbar=null,this._searchbar=null,console.log("+AppHeader"),this._navbar=new l,this._searchbar=new a}}();e.AppHeader=c},"./static_dirs/desktop/ts/AppForm.ts":
/*!*******************************************!*\
  !*** ./static_dirs/desktop/ts/AppForm.ts ***!
  \*******************************************/
/*! no static exports found */function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(/*! ./HttpService */"./static_dirs/desktop/ts/HttpService.ts"),s=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),i=o(/*! ./UINoti */"./static_dirs/desktop/ts/UINoti.ts"),r=function(){function t(t){this.$_form=null,this.$_form=t}return t.make=function(t){return new this(t)},t.prototype.submit=function(t){console.log("+$AjaxFrom::submit");var e=this.$_form;t.$form=e;var o=e.attr("action");o||(o=window.location.href),console.log("action : "+o);var s=e.data("data-handler");if((s=s||window[e.attr("data-delegate")])?(s.before=s.before?s.before:this.before,s.after=s.after?s.after:this.after):s=this,!1!==s.before(t)){var i=new n.HttpService;if(e.find("[type=file]").exists()){console.log("file is present");var r=new n.HttpResponseHandler({complete:a}),l=new FormData(e[0]);i.file(o,l,r)}else{l=e.serialize();i.post(o,l,a)}}function a(e,o){t.status=e,t.resp=o,s.after(t)}},t.prototype.before=function(t){return console.log("+AjaxForm::before"),!0},t.prototype.after=function(t){if(console.log("+AjaxForm::after"),t.status)i.UINoti.make({title:"Successful",text:t.resp.message}).show();else{var e="";for(var o in t.resp.data)console.log(o+" : "+t.resp.data[o]),e+=t.resp.data[o]+"<br />";i.UINoti.make({title:t.resp.message,text:e}).show()}},t}();e.AjaxForm=r;var l=function(){function t(t){s.ObjectUtil.Instance().merge(this,t)}return t.prototype.before=function(t){return console.log("+AppFormSaveHandler::before"),!0},t.prototype.after=function(t){if(console.log("+AppFormSaveHandler::after"),t.status){var e=t.resp.data,o=t.$form;for(var n in e){var r=e[n];console.log(n+" : "+r),s.FormUtil.Instance().setValByName(o,n,r)}o.find("input[type=button]").click(),i.UINoti.make({title:"Done!!",text:t.resp.message}).show()}else{var l="";for(var a in t.resp.data)l+=t.resp.data[a]+"<br />";i.UINoti.make({title:t.resp.message,text:l}).show()}},t}();e.AppFormHandler=l},"./static_dirs/desktop/ts/AppHistory.ts":
/*!**********************************************!*\
  !*** ./static_dirs/desktop/ts/AppHistory.ts ***!
  \**********************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=o(/*! ./HttpService */"./static_dirs/desktop/ts/HttpService.ts"),r=o(/*! ./App */"./static_dirs/desktop/ts/App.ts"),l=function(){function t(){console.log("+AppHistory"),this.init()}return t.prototype.init=function(){if(console.log("+AppHistory::init"),window.history&&window.history.pushState){var t=function(t){(new i.HttpService).get(t.url,"pid="+t.dest[1],function(e,o){!function(t,e,o){console.log("afterGetResponse"),t?(s.default(o.dest[0]).html(e),history.pushState(o,o.title,o.url),document.title=o.title):s.default(o.dest[0]).html("<h1>Failed to load page</h1>")}(e,o,t)})};s.default(document).on("click","a[data-dest]",function(e){e.preventDefault(),console.log("+a");var o=s.default(this),n=o.attr("href"),i=o.attr("data-dest").split(":"),l=o.text()+" | "+r.App.Instance().name();t({url:n,title:l,dest:i})}),window.addEventListener("popstate",function(e){console.log("+popstate"),console.log(JSON.stringify(e.state)),null!==e.state?t(e.state):(console.log("no history to load"),location.reload())})}},t}();e.AppHistory=l},"./static_dirs/desktop/ts/AppUtils.ts":
/*!********************************************!*\
  !*** ./static_dirs/desktop/ts/AppUtils.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.type=function(t){return t?Object.prototype.toString.call(t).slice(8,-1):"undefined"},t.prototype.isArray=function(t){return"Array"===this.type(t)},t.prototype.isObject=function(t){return"Object"===this.type(t)},t.prototype.merge=function(t,e){var o=t;for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?(this.isArray(e[n])?o[n]=[]:this.isObject(e[n])&&(o[n]={}),o[n]=this.merge(o[n],e[n])):o[n]=e[n]);return o},t.prototype.dump=function(t){var e="";for(var o in t)e+=o+": "+t[o]+"; ";console.log(e)},t._instance=null,t}();e.ObjectUtil=i;var r=function(){function t(){this._name=""}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.csrfToken=function(){var t=s.default("meta[name=csrf-token]"),e={};return e[t.attr("key")]=t.attr("content"),e},t.prototype.csrfField=function(){var t="",e=this.csrfToken();for(var o in e)t='<input type="hidden" name='+o+" value="+e[o]+" />";return t},t.prototype.name=function(){if(""==this._name){var t=s.default("meta[name=app-name]");this._name=t.attr("content")||"/m\\"}return this._name},t._instance=null,t}();e.AppUtil=r;var l=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.setValByName=function(t,e,o){console.log("+FormUtil::setValByName");var n=o,s=t.find(".ui-input[name="+e+"]"),i=t.find("[data-rel="+e+"]");s.exists()&&(n=this.setVal(s,o),s.attr("data-value",o)),i.exists()&&i.html(n)},t.prototype.setVal=function(t,e){console.log("+FormUtil::setVal");var o=e;switch(t.prop("tagName").toLowerCase()){case"input":switch(t.prop("type").toLowerCase()){case"text":case"hidden":t.val(e);break;case"password":t.val("");break;case"radio":case"checkbox":e?t.prop("checked",!0):t.removeProp("checked"),o=t.val()}break;case"select":o=t.find("[value="+e+"]").prop("selected",!0).text();break;case"textarea":default:t.html(e)}return console.log("retVal : "+o),o},t.prototype.resetVal=function(t){console.log("+FormUtil::resetVal");var e=this;t.find("input[type=text], select, textarea").each(function(t,o){e.setVal(s.default(o),s.default(o).attr("data-value"))})},t.prototype.fillByName=function(t,e){for(var o in console.log("+FormUtil::fillByName"),e){var n=t.find("[name="+o+"]");this.setVal(n,e[o])}},t._instance=null,t}();e.FormUtil=l;var a=function(){function t(){this._set=[]}return t.prototype.sub=function(t){console.log("+AppEventHandler::sub"),-1==this._set.indexOf(t)&&this._set.push(t)},t.prototype.unsub=function(t){console.log("AppEventHandler::unsub");var e=this._set.indexOf(t);e>1&&this._set.splice(e,1)},t.prototype.trigger=function(t){console.log("+AppEventHandler::trigger");var e=!0;for(var o in this._set)e=e&&this._set[o](t);return e},t}();e.AppEventHandler=a;var c=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.locate=function(t){console.log("+AppGeo::locate"),navigator.geolocation.getCurrentPosition(function(e){var o=e.coords.latitude.toFixed(8),n=e.coords.longitude.toFixed(8);e.timestamp,e.coords.accuracy;t(o,n)},function(){console.log("Failed to get location"),t()})},t._instance=null,t}();e.AppGeo=c;var u=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.get=function(t){var e=null;if("undefined"!=document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var s=o[n].trim();if(s.substring(0,t.length+1)===name+"="){e=decodeURIComponent(s.substring(t.length+1));break}}return e},t.prototype.set=function(t,e,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"},t.prototype.has=function(t){return null!=this.get(t)},t._instance=null,t}();e.Cookie=u;var p=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.get=function(t){return localStorage.getItem(t)},t.prototype.set=function(t,e){localStorage.setItem(t,e)},t._instance=null,t}();e.Storage=p},"./static_dirs/desktop/ts/HttpService.ts":
/*!***********************************************!*\
  !*** ./static_dirs/desktop/ts/HttpService.ts ***!
  \***********************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=o(/*! ./UIToast */"./static_dirs/desktop/ts/UIToast.ts"),r=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),l=function(){return function(t){this.progress_up=function(t){console.log("default_progress_up")},this.progress_dn=function(t){console.log("default_progress_dn")},this.complete=function(t,e){console.log("default_complete")},r.ObjectUtil.Instance().merge(this,t)}}();e.HttpResponseHandler=l;var a=function(){function t(){this._handle=null}return t.prototype.abort=function(){this._handle&&this._handle.abort()},t.prototype.get=function(t,e,o){console.log("+get");var n={type:"GET",url:t,data:e},s=new l({complete:o});return console.log(s),this._request(n,s)},t.prototype.post=function(t,e,o){console.log("+post");var n={type:"POST",url:t,data:e},s=new l({complete:o});return console.log(s),this._request(n,s)},t.prototype.file=function(t,e,o){console.log("+file");var n={type:"POST",url:t,data:e,processData:!1,contentType:!1};return this._request(n,o)},t.prototype.request=function(t,e){return console.log("+request"),this._request(t,e)},t.prototype._request=function(t,e){void 0===e&&(e=l);var o={dataType:"text",xhr:function(){var t=s.default.ajaxSettings.xhr();return t.upload.onprogress=function(t){if(t.lengthComputable){var o=t.loaded/t.total*100;e.progress_up(o)}},t.onprogress=function(t){if(t.lengthComputable){var o=t.loaded/t.total*100;e.progress_dn(o)}},t},complete:function(t){console.log("+comeplete : "+t.status)},success:function(t,o,n){console.log("+success");var s=n.getResponseHeader("content-type");if(console.log("content-type: "+s),s.indexOf("json")>-1){console.log("data : "+t);var i=JSON.parse(t);switch(i.status){case 302:console.log("redirect"),location.href=i.url;break;case 200:case 204:e.complete(!0,i);break;case 401:default:e.complete(!1,i)}}else s.indexOf("html")>-1?e.complete(!0,t):(console.log("content-type: unknown"),e.complete(!1,{message:"Unknown response",data:"unexpected content type"}))},error:function(t,o){console.log("+error : "+t.status),i.UIToast.Instance().show("Network error occured"),e.complete(!1,{message:"Network failed",data:{error:o}})}};s.default.extend(t,o),this._handle=s.default.ajax(t)},t}();e.HttpService=a},"./static_dirs/desktop/ts/UINoti.ts":
/*!******************************************!*\
  !*** ./static_dirs/desktop/ts/UINoti.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),r=function(){function t(t){this.link=window.location.href,this.title="Alert",this.text="Notification",this.timeout=5e3,i.ObjectUtil.Instance().merge(this,t)}return t.make=function(t){return new this(t)},t.prototype.show=function(){var t=this,e=s.default("#wt-noti").clone().removeAttr("id");e.fadeIn({duration:1e3,start:function(){e.find(".wt-notititle").html(t.title),e.find(".wt-notibody").html(t.text),e.find(".wt-notilink").attr("href",t.link)}}).delay(t.timeout).fadeOut({duration:1e3,always:function(){e.remove()}}),s.default(".wt-notibox").append(e)},t}();e.UINoti=r},"./static_dirs/desktop/ts/UIToast.ts":
/*!*******************************************!*\
  !*** ./static_dirs/desktop/ts/UIToast.ts ***!
  \*******************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.show=function(t,e){void 0===t&&(t="Error"),void 0===e&&(e=1800),s.default(".wt-toast").fadeIn({duration:500,start:function(){s.default(this).text(t)}}).delay(e).fadeOut(500)},t.prototype.hide=function(){s.default(".wt-toast").hide()},t._instance=null,t}();e.UIToast=i},"./static_dirs/desktop/ts/UIWidgets.ts":
/*!*********************************************!*\
  !*** ./static_dirs/desktop/ts/UIWidgets.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,o){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(o(/*! jquery */"jquery")),l=o(/*! ./AppUtils */"./static_dirs/desktop/ts/AppUtils.ts"),a=o(/*! ./HttpService */"./static_dirs/desktop/ts/HttpService.ts"),c=13,u=27,p=37,d=38,h=39,f=40,_=function(){function t(){this.$overlay=null,this.$closebtn=null,this.$body=null,this.$html=null,this.$html_def=null,this._shown=!1,this._options_def={closeBtn:!0,closeOnEscape:!0,closeOnClickOutside:!0},this._options=null,this.$overlay=r.default("#wt-overlay"),this.$closebtn=this.$overlay.find(".wt-closebtn"),this.$body=this.$overlay.find(".wt-overlay-body"),this.$html_def=r.default('<div style="width:80%; height:inherit; margin: 0 auto; background:#fff;" data-type="none"></div>'),this.$html=this.$html_def,this.$closebtn.on("click",this,this._onclose),this.$overlay.on("click",this,this._onclick),this.$overlay.on("keyup",this,this._onKeyUp),this._shown=!1,this._options_def={closeBtn:!0,closeOnEscape:!0,closeOnClickOutside:!0},this._options=l.ObjectUtil.Instance().merge(this._options_def,{})}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype._apply_options=function(t){this._options=l.ObjectUtil.Instance().merge(this._options_def,t),!1===this._options.closeBtn?this.$closebtn.hide():this.$closebtn.show()},t.prototype.shown=function(){return this._shown},t.prototype.show=function(t,e){return void 0===t&&(t=this.$html_def),void 0===e&&(e={}),this._apply_options(e),this.$overlay.show(),this.update(t),this.$overlay.focus(),this._shown=!0,r.default("body").toggleClass("ui-noscroll",this._shown),this},t.prototype.hide=function(){return this.$overlay.hide(),this._shown=!1,r.default("body").toggleClass("ui-noscroll",this._shown),this},t.prototype.update=function(t){this.$html=r.default(t),this.$body.html(this.$html.show());var e=this.$html.find(".wt-overlay-scroll");if(e.exists()){var o=this.$body.height(),n=this.$html.height(),s=e.height();if(o<n){var i=s-(n-o);console.log("h4 : "+i),e.height(i)}}return this},t.prototype.clear=function(){return this.update(this.$html_def),this},t.prototype.close=function(){console.log("CLOSE OVERLAY"),this.$closebtn.click()},t.prototype._close=function(){var t=this.$html.hide();"persist"==t.attr("data-type")?setTimeout(function(){t.appendTo("body")},100):t.remove(),this.hide()},t.prototype._onclose=function(t){console.log("ONCLOSE OVERLAY"),t.data._close()},t.prototype._onclick=function(t){console.log("ONCLICK OVERLAY");var e=t.data;!0===e._options.closeOnClickOutside&&r.default(t.target).parent().is(e.$overlay)&&e._close()},t.prototype._onKeyUp=function(t){console.log("ONKEYUP OVERLAY");var e=t.data;!0===e._options.closeOnEscape&&t.keyCode==u&&e._close()},t._instance=null,t}();e.UIOverlay=_;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.show=function(e,o){return t.prototype.show.call(this,e,{closeOnClickOutside:!0})},e.prototype.hide=function(){return t.prototype.hide.call(this)},e.prototype.close=function(){t.prototype.close.call(this)},e}(_);e.UIModal=m;var v=function(){function t(){}return t.prototype.show=function(t){_.Instance().show(t)},t.prototype.hide=function(){_.Instance().hide()},t.prototype.close=function(){_.Instance().close()},t}();e.UIDialog=v;var g=function(){function t(t,e,o){this._name="UIOptionList",this._count=0,this._selectedIndex=0,this._jsonItemsList=null,this._config={minLength:1,delay:0},this._overrides={source:function(t,e){console.log("implement source")},itemCreate:function(t){console.log("implement itemCreate")},onItemSelect:function(t,e){console.log("implement onItemSelect")},onEnter:function(t,e){console.log("implement onEnter")}},this._scrollTimer=null,this.$_self=null,this.$_list=null,this.$_selectedItem=null,console.log("+UIOptionList : "+t.prop("tagName")),this.$_self=t,t.optionsList=this,l.ObjectUtil.Instance().merge(this._config,o),l.ObjectUtil.Instance().merge(this._overrides,e),this._create()}return t.prototype.source=function(t,e){this._overrides.source&&this._overrides.source(t,e)},t.prototype.itemCreate=function(t){return this._overrides.itemCreate?this._overrides.itemCreate(t):""},t.prototype.onItemSelect=function(t,e){this._overrides.onItemSelect&&this._overrides.onItemSelect(t,e)},t.prototype.onEnter=function(t,e){this._overrides.onEnter&&this._overrides.onEnter(t,e)},t.prototype._create=function(){console.log("+_create["+this._name+"]"),this.$_list=r.default('<ul class="wt-search-list wt-search-list-app" >'),this.$_list.css({width:this.$_self.css("width")}),this.$_list.on("mouseenter","li",this._onItemHover.bind(this)),this.$_list.on("click","li",this._onItemClick.bind(this)),this.$_list.on("scroll",this._onListScroll.bind(this)),this.$_self.on("keyup",this._onKeyUp.bind(this)),this.$_self.on("keypress",this._onKeyPress.bind(this)),this.$_self.on("focus",this._onFocus.bind(this)),this.$_self.on("blur",this._onUnfocus.bind(this)),this.$_self.on("DOMNodeRemoved",this._destroy.bind(this)),this.$_self.after(this.$_list)},t.prototype._destroy=function(t){this.$_list.remove()},t.prototype._onFocus=function(t){console.log("+_onFocus"),this.$_list.show()},t.prototype._onUnfocus=function(t){this.$_list.hide()},t.prototype._onData=function(t){console.log("+_onData");if(this.$_list.html(""),this._jsonItemsList=t,this._count=t.length,this._selectedIndex=0,this._count>0){for(var e in t)this.$_list.append(this.itemCreate(t[e]));this.$_selectedItem=this.$_list.children().eq(this._selectedIndex),this.$_selectedItem.addClass("wt-search-item-a")}else this.$_list.html('<div class="wt-search-item">No search results</div>');this.$_list.show()},t.prototype._setItemSelected=function(t){var e=this._selectedIndex;if(console.log("oldIndex : "+e+" newIndex : "+t),t>=0&&t<this._count){if(e!=t){var o=this.$_list.children();o.eq(e).removeClass("wt-search-item-a"),this.$_selectedItem=o.eq(t).addClass("wt-search-item-a"),this._selectedIndex=t,this._notifyItemSelected()}var n=this.$_selectedItem.position().top,s=this.$_selectedItem.outerHeight(),i=this.$_list.scrollTop(),r=this.$_list.outerHeight();console.log("itemTop : "+n+" itemHeight : "+s),console.log("bodyScroll : "+i+" bodyHeight : "+r),n<0?(console.log("scrollup"),this.$_list.scrollTop(i+n)):n+s>r&&(console.log("scrolldown"),this.$_list.scrollTop(i+s-(r-n))),this.$_list.show()}},t.prototype._onListScroll=function(t){var e=this;e._scrollTimer=setTimeout(function(){e._scrollTimer=null},300)},t.prototype._onItemHover=function(t){console.log("+_onItemHover"),this._scrollTimer||this._setItemSelected(r.default(t.target).index())},t.prototype._onItemClick=function(t){console.log("+_onItemClick"),this._setItemSelected(r.default(t.target).index())},t.prototype._notifyItemSelected=function(){this._count>0&&this._jsonItemsList&&this.onItemSelect(this.$_self,this._jsonItemsList[this._selectedIndex])},t.prototype._onKeyPress=function(t){if(console.log("+_onKeyPress : "+t.keyCode),t.keyCode===c){t.preventDefault();var e=this._count>0&&this._jsonItemsList?this._jsonItemsList[this._selectedIndex]:null;this.onEnter(this.$_self,e),this._onUnfocus(t)}},t.prototype._onKeyUp=function(t){console.log("+_onKeyUp");var e=!0;switch(t.keyCode){case d:this._setItemSelected(this._selectedIndex-1);break;case f:this._setItemSelected(this._selectedIndex+1);break;case c:break;case p:case h:this._onFocus({});break;default:console.log("keycode : "+t.keyCode),e=!1}if(e)t.preventDefault();else{var o=this.$_self.val();o.length>=this._config.minLength&&this.source(o,this._onData.bind(this))}},t}();e.UIOptionList=g;var y=function(){function t(t,e){this.$_ui=null,this.$_ui='<div class="wt-progress-outer" >\n                    <div class="wt-progress-inner">\n                    <div class="wt-progress-filename">'+t+'</div>\n                    <div class="wt-progress-bar">&nbsp;0%</div></div>\n                    <div class="wt-progress-control">\n                    <button class="ui-btn">'+e+"</button>\n                    </div></div>"}return t.prototype.show=function(t){t.append(this.$_ui),this.$_ui.show()},t}();e.UIProgressBar=y;var b=function(){function t(t,e,o){this._name="UIFileUpload",this._uploads=[],this.$_hidden=null,this.$_ui=null,this.$_self=null,this._overrides={},this._config={maxFiles:1,mimeType:"image",maxSize:1024},console.log("+UIFileUpload : "+t.prop("tagName")),l.ObjectUtil.Instance().merge(this._overrides,e),l.ObjectUtil.Instance().merge(this._config,o),this.$_self=t,this._create()}return t.prototype._create=function(){console.log("+_create["+this._name+"]"),this.$_ui=r.default('<div class="wt-progress-div" ></div>'),this.$_ui.css({width:this.$_self.css("width")}),this.$_hidden=r.default('<input type="hidden" name="files" value="" >'),this.$_self.before(this.$_hidden),this.$_self.after(this.$_ui),this.$_self.on("change",this._upload.bind(this)),this.$_self.on("DOMNodeRemoved",this._destroy.bind(this))},t.prototype._destroy=function(t){console.log("+_destroy["+this._name+"]"),this.$_ui.remove(),this.$_hidden.remove()},t.prototype._upload=function(t){console.log("+_upload"),t.stopPropagation(),t.preventDefault();var e=t.target,o=r.default(e)[0].files,n=this.$_ui.find(".wt-progress-outer").length;console.log("count : "+n);var s=this._config.maxFiles-n;if(0==s)return e.value="",void console.log("Already attached to max limit");s>o.length&&(s=o.length);for(var i=0;i<s;++i)console.log("name : "+o[i].name+" data : "+o[i]),this._uploadFile(o[i])},t.prototype._uploadFile=function(t){console.log("+_uploadFile");var e=this,o=new FormData,n=t.name,s=l.AppUtil.Instance().csrfToken();for(var i in s)o.append(i,s[i]);o.append("image",t);var c=r.default('<div class="wt-progress-outer" >\'\n                        <div class="wt-progress-inner">\'\n                        <div class="wt-progress-filename">'+n+'</div>\'\n                        <div class="wt-progress-bar">&nbsp;0%</div></div>\'\n                        <div class="wt-progress-control">\'\n                        <button class="ui-btn">Cancel</button>\'\n                        </div></div>'),u=c.find(".ui-btn");u.on("click",e._cancel.bind(e)),e.$_ui.append(c);var p={progress_up:function(t){e._progress(t)},complete:function(t,o){if(t){console.log("upload finished");var n=o.data.upload_ids;e._uploads.push(n),e.$_hidden.val(e._uploads.toString()),u.data("request",null),u.data("upload_ids",n),u.text("Remove"),console.log("ids : "+e._uploads.toString())}else console.log("file upload failed reason : "+JSON.stringify(o)),u.remove()}},d=new a.HttpResponseHandler(p),h=new a.HttpService;h.file("/upload/file/",o,d),u.data("request",h)},t.prototype._cancel=function(t){console.log("+_cancel"),t.preventDefault();var e=r.default(t.target);if(console.log(e.text()),"Cancel"==e.text()){e.data("request").abort(),console.log("aborted")}else{var o=e.data("upload_id"),n=this._uploads.indexOf(o);this._uploads.splice(n,1),this.$_hidden.val(this._uploads),console.log("ids : "+this._uploads.toString())}e.parents(".wt-progress-outer").remove()},t.prototype._progress=function(t){console.log("progress : "+t+"%");var e=this.$_ui.find(".wt-progress-bar");e.css({width:t+"%"}),e.html(t+"%")},t}();e.UIFileUpload=b;var w=function(){function t(t,e){this._name="UITabs",this._total=2,this._active=null,this._activeIndex=0,this._overrides={beforeLoad:function(t){console.log("implement beforeLoad()")},afterLoad:function(t){console.log("implement afterLoad()")},source:function(t){console.log("implement source()")}},this.$_self=null,console.log("+UITabs : "+t.prop("tagName")),this.$_self=t,this._create()}return t.prototype._create=function(){var t=this;console.log("+_create["+t._name+"]");var e=t.$_self.find(".wt-switchtab-nav > li > a[rel]");t._total=e.length,console.log("Tabs : "+t._total),t._active=e.eq(t._activeIndex);var o=t._active.prop("rel");t.$_self.find(o).show(),e.on("click",function(e){console.log("+tabClicked"),e.preventDefault();var o=t._active.prop("rel");t._active.removeClass("wt-switchtab-a"),t.$_self.find(o).hide(),t._active=r.default(this),o=t._active.prop("rel"),t._active.prop("class","wt-switchtab-a"),t.$_self.find(o).show()})},t}();e.UITabs=w},"./static_dirs/desktop/ts/index.ts":
/*!*****************************************!*\
  !*** ./static_dirs/desktop/ts/index.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(o(/*! jquery */"jquery")),i=o(/*! ./App */"./static_dirs/desktop/ts/App.ts"),r=o(/*! ./UIWidgets */"./static_dirs/desktop/ts/UIWidgets.ts");s.default(function(){s.default.fn.extend({exists:function(){return this.length>0},OptionList:function(t,e){new r.UIOptionList(this,t,e)},Tabs:function(t,e){new r.UITabs(this,t)},FileUpload:function(t,e){new r.UIFileUpload(this,t,e)}}),i.App.Instance().show()})},jquery:
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=jQuery}});