var AppLib=function(t){var e={};function o(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="../static_dirs/desktop/ts/index.ts")}({"../static_dirs/desktop/ts/App/App.ts":
/*!********************************************!*\
  !*** ../static_dirs/desktop/ts/App/App.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),n=o(/*! ./AppHistory */"../static_dirs/desktop/ts/App/AppHistory.ts"),i=o(/*! ./AppComponents */"../static_dirs/desktop/ts/App/AppComponents.ts"),r=o(/*! ./AppForm */"../static_dirs/desktop/ts/App/AppForm.ts"),a=function(){function e(){this._history=null,this._header=null,this._name="App",this._history=new n.AppHistory,this._header=new i.AppHeader,this.init()}return e.Instance=function(){return this._instance||(this._instance=new this)},e.prototype.init=function(){console.log("+App::init"),t(document).on("submit","form.ajax-form",function(e){e.preventDefault(),r.AjaxForm.make(t(this)).submit(e)}),t(document).on("click",".app_vlist_exp_item > a",function(e){e.preventDefault(),t(this).parent().toggleClass("expanded")}),t(document).on("click",function(e){t(".ui-dropcontent").hide()}),t(document).on("click",".ui-dropbtn",function(e){e.stopPropagation(),t(e.target).parents(".ui-dropdown").find(".ui-dropcontent").toggle()}),t(document).on("click",".ui-hovermenu",function(t){console.log("hovermenu clicked"),t.preventDefault(),t.stopPropagation()})},e.prototype.show=function(){console.log("+App::show")},e.prototype.name=function(){return s.AppUtil.appName()},e._instance=null,e}();e.App=a}).call(this,o(/*! jquery */"jquery"))},"../static_dirs/desktop/ts/App/AppComponents.ts":
/*!******************************************************!*\
  !*** ../static_dirs/desktop/ts/App/AppComponents.ts ***!
  \******************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),r=o(/*! ./HttpService */"../static_dirs/desktop/ts/App/HttpService.ts"),a=function(){function t(t){this._config={navbar_btn:"#navbar_btn"},i.ObjectUtil.merge(this._config,t),n.default(this._config.navbar_btn).on("click",this._onNavClicked.bind(this))}return t.prototype._onNavClicked=function(t){console.log("+AppNavBar::_onNavClicked");var e=document.getElementById("app_leftnav"),o=document.getElementById("app_page");e&&o&&(console.log("marginLeft: "+e.style.marginLeft),"-20%"!==e.style.marginLeft?(e.style.marginLeft="-20%",o.style.width="95%",o.style.margin="0 auto"):(e.style.marginLeft="0",o.style.marginLeft="20%",o.style.width="80%"))},t}();e.AppNavbar=a;var l=function(){function t(t){void 0===t&&(t="#app_search_input"),n.default(t).OptionList({source:this.source,itemCreate:this.itemCreate,onItemSelect:this.onItemSelect,onEnter:this.onEnter},{minLength:2})}return t.prototype.source=function(t,e){(new r.HttpService).post("/search/offer/",{key:t},function(t,o){1==t?e(o.data):console.log("data : "+JSON.stringify(o.data))})},t.prototype.itemCreate=function(t){return'<li>\n                        <div class="wt-search-item">\n                            <a style="display:block; padding: 0.5em;" href="'+t.url+'"> '+t.name+"</a>\n                        </div>\n                    </li>"},t.prototype.onItemSelect=function(t,e){t.val(e.name)},t.prototype.onEnter=function(t,e){console.log("+onEnter"),e&&(location.href=e.url)},t}();e.AppSearchbar=l;var c=function(){return function(){this._navbar=null,this._searchbar=null,console.log("+AppHeader"),this._navbar=new a,this._searchbar=new l}}();e.AppHeader=c},"../static_dirs/desktop/ts/App/AppForm.ts":
/*!************************************************!*\
  !*** ../static_dirs/desktop/ts/App/AppForm.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(/*! ./HttpService */"../static_dirs/desktop/ts/App/HttpService.ts"),n=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),i=o(/*! ./UINoti */"../static_dirs/desktop/ts/App/UINoti.ts"),r=function(){function t(t){this.$_form=null,this.$_form=t}return t.make=function(t){return new this(t)},t.prototype.submit=function(t){console.log("+$AjaxFrom::submit");var e=this.$_form;t.$form=e;var o=e.attr("action");o||(o=window.location.href),console.log("action : "+o);var n=e.data("data-handler");if((n=n||window[e.attr("data-delegate")])?(n.before=n.before?n.before:this.before,n.after=n.after?n.after:this.after):n=this,!1!==n.before(t)){var i=new s.HttpService;if(e.find("[type=file]").exists()){console.log("file is present");var r=new s.HttpResponseHandler({complete:l}),a=new FormData(e[0]);i.file(o,a,r)}else{a=e.serialize();i.post(o,a,l)}}function l(e,o){t.status=e,t.resp=o,n.after(t)}},t.prototype.before=function(t){return console.log("+AjaxForm::before"),!0},t.prototype.after=function(t){if(console.log("+AjaxForm::after"),t.status)i.UINoti.make({title:"Successful",text:t.resp.message}).show();else{var e="";for(var o in t.resp.data)console.log(o+" : "+t.resp.data[o]),e+=t.resp.data[o]+"<br />";i.UINoti.make({title:t.resp.message,text:e}).show()}},t}();e.AjaxForm=r;var a=function(){function t(t){n.ObjectUtil.merge(this,t)}return t.prototype.before=function(t){return console.log("+AppFormSaveHandler::before"),!0},t.prototype.after=function(t){if(console.log("+AppFormSaveHandler::after"),t.status){var e=t.resp.data,o=t.$form;for(var s in e){var r=e[s];console.log(s+" : "+r),n.FormUtil.setValByName(o,s,r)}o.find("input[type=button]").click(),i.UINoti.make({title:"Done!!",text:t.resp.message}).show()}else{var a="";for(var l in t.resp.data)a+=t.resp.data[l]+"<br />";i.UINoti.make({title:t.resp.message,text:a}).show()}},t}();e.AppFormHandler=a},"../static_dirs/desktop/ts/App/AppHistory.ts":
/*!***************************************************!*\
  !*** ../static_dirs/desktop/ts/App/AppHistory.ts ***!
  \***************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./HttpService */"../static_dirs/desktop/ts/App/HttpService.ts"),r=o(/*! ./App */"../static_dirs/desktop/ts/App/App.ts"),a=function(){function t(){console.log("+AppHistory"),this.init()}return t.prototype.init=function(){if(console.log("+AppHistory::init"),window.history&&window.history.pushState){var t=function(t){(new i.HttpService).get(t.url,"pid="+t.dest[1],function(e,o){!function(t,e,o){console.log("afterGetResponse"),t?(n.default(o.dest[0]).html(e),history.pushState(o,o.title,o.url),document.title=o.title):n.default(o.dest[0]).html("<h1>Failed to load page</h1>")}(e,o,t)})};n.default(document).on("click","a[data-dest]",function(e){e.preventDefault(),console.log("+a");var o=n.default(this),s=o.attr("href"),i=o.attr("data-dest").split(":"),a=o.text()+" | "+r.App.Instance().name();t({url:s,title:a,dest:i})}),window.addEventListener("popstate",function(e){console.log("+popstate"),console.log(JSON.stringify(e.state)),null!==e.state?t(e.state):(console.log("no history to load"),location.reload())})}},t}();e.AppHistory=a},"../static_dirs/desktop/ts/App/AppUtils.ts":
/*!*************************************************!*\
  !*** ../static_dirs/desktop/ts/App/AppUtils.ts ***!
  \*************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=function(){function t(){}return t.type=function(t){return t?Object.prototype.toString.call(t).slice(8,-1):"undefined"},t.isArray=function(t){return"Array"===this.type(t)},t.isObject=function(t){return"Object"===this.type(t)},t.merge=function(t,e){var o=t;for(var s in e)e.hasOwnProperty(s)&&("object"==typeof e[s]?(this.isArray(e[s])?o[s]=[]:this.isObject(e[s])&&(o[s]={}),o[s]=this.merge(o[s],e[s])):o[s]=e[s]);return o},t.dump=function(t){var e="";for(var o in t)e+=o+": "+t[o]+"; ";console.log(e)},t}();e.ObjectUtil=i;var r=function(){function t(){}return t.csrfToken=function(){var t=n.default("meta[name=csrf-token]"),e={};return e[t.attr("key")]=t.attr("content"),e},t.csrfField=function(){var t="",e=this.csrfToken();for(var o in e)t='<input type="hidden" name='+o+" value="+e[o]+" />";return t},t.appName=function(){if(""==this._name){var t=n.default("meta[name=app-name]");this._name=t.attr("content")||"/m\\"}return this._name},t._name="",t}();e.AppUtil=r;var a=function(){function t(){}return t.setValByName=function(t,e,o){console.log("+FormUtil::setValByName");var s=o,n=t.find(".ui-input[name="+e+"]"),i=t.find("[data-rel="+e+"]");n.exists()&&(s=this.setVal(n,o),n.attr("data-value",o)),i.exists()&&i.html(s)},t.setVal=function(t,e){console.log("+FormUtil::setVal");var o=e;switch(t.prop("tagName").toLowerCase()){case"input":switch(t.prop("type").toLowerCase()){case"text":case"hidden":t.val(e);break;case"password":t.val("");break;case"radio":case"checkbox":e?t.prop("checked",!0):t.removeProp("checked"),o=t.val()}break;case"select":o=t.find("[value="+e+"]").prop("selected",!0).text();break;case"textarea":default:t.html(e)}return console.log("retVal : "+o),o},t.resetVal=function(t){console.log("+FormUtil::resetVal");var e=this;t.find("input[type=text], select, textarea").each(function(t,o){e.setVal(n.default(o),n.default(o).attr("data-value"))})},t.fillByName=function(t,e){for(var o in console.log("+FormUtil::fillByName"),e){var s=t.find("[name="+o+"]");this.setVal(s,e[o])}},t}();e.FormUtil=a;var l=function(){function t(t){this._name="AppEvent",this._set=[],void 0!==t&&(this._name=t)}return t.prototype.sub=function(t){console.log("+AppEvent::sub"),-1==this._set.indexOf(t)&&this._set.push(t)},t.prototype.unsub=function(t){console.log("AppEvent::unsub");var e=this._set.indexOf(t);e>1&&this._set.splice(e,1)},t.prototype.trigger=function(t,e){console.log("+AppEvent::trigger");var o=!0;for(var s in this._set){var n=this._set[s](t,e);o=o&&n}return o},t}();e.AppEvent=l;var c=function(){function t(){}return t.locate=function(t){console.log("+AppGeo::locate"),navigator.geolocation.getCurrentPosition(function(e){var o=e.coords.latitude.toFixed(8),s=e.coords.longitude.toFixed(8);e.timestamp,e.coords.accuracy;t(o,s)},function(){console.log("Failed to get location"),t()})},t}();e.AppGeo=c;var p=function(){function t(){}return t.get=function(t){var e=null;if("undefined"!=document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var n=o[s].trim();if(n.substring(0,t.length+1)===name+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e},t.set=function(t,e,o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3);var n="expires="+s.toUTCString();document.cookie=t+"="+e+";"+n+";path=/"},t.has=function(t){return null!=this.get(t)},t}();e.AppCookie=p;var u=function(){function t(){}return t.get=function(t){return"undefined"!=typeof Storage?localStorage.getItem(t):""},t.set=function(t,e){"undefined"!=typeof Storage&&localStorage.setItem(t,e)},t}();e.AppStorage=u},"../static_dirs/desktop/ts/App/GoogleMap.ts":
/*!**************************************************!*\
  !*** ../static_dirs/desktop/ts/App/GoogleMap.ts ***!
  \**************************************************/
/*! no static exports found */function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),n=o(/*! ./UIToast */"../static_dirs/desktop/ts/App/UIToast.ts"),i=function(){function t(){}return t.load=function(){return t.promise||(t.promise=new Promise(function(t){window.__onGoogleMapLoaded=function(e){t("google maps api loaded")};var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMz94217XzpYaxnQRagzgCwpy4dfBM1Ho&libraries=places&callback=__onGoogleMapLoaded",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)})),t.promise},t}();e.GoogleMapsLoader=i;var r=function(){function t(t,e){this._IsInit=!1,this._Map=null,this._Marker=null,this._Geocoder=null,this._Timeout=null,this._LatLong={lat:12.964914,lng:77.596683},this.AddressFoundEvent=new s.AppEvent,i.load()}return t.prototype.attach=function(t){console.log("+GoogleMap::init");var e=this,o=new google.maps.LatLng(e._LatLong.lat,e._LatLong.lng),n={zoom:18,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP};e._Map=new google.maps.Map(t,n),e._Marker=new google.maps.Marker({position:o,map:e._Map,draggable:!0,title:"Your Location"}),e._Geocoder=new google.maps.Geocoder,google.maps.event.addListener(e._Marker,"dragend",function(t){e.updateLoc(t.latLng.lat(),t.latLng.lng())}),google.maps.event.addListener(e._Map,"drag",function(t){var o=this.getCenter();clearTimeout(e._Timeout),e._Timeout=setTimeout(function(){e._Marker.setPosition(o),e.updateLoc(o.lat(),o.lng())},50)}),e._IsInit=!0,s.AppGeo.locate(function(t,o){e.updateLoc(t,o)})},t.prototype.initPlaceSearch=function(t){console.log("+GoogleMap::initPlaceSearch");var e=this,o=new google.maps.places.Autocomplete(t);o.addListener("place_changed",function(t){e._Marker.setVisible(!1);var s=o.getPlace();s.geometry?(console.log(s),s.geometry.viewport?e._Map.fitBounds(s.geometry.viewport):(e._Map.setCenter(s.geometry.location),e._Map.setZoom(17)),e._Marker.setPosition(s.geometry.location),e._Marker.setVisible(!0),e.AddressFoundEvent.trigger(t,{status:!0,address:s})):n.UIToast.Instance().show("No details available for : '"+s.name+"'")})},t.prototype.update=function(){this._Map&&(google.maps.event.trigger(this._Map,"resize"),this._Marker&&this._Map.setCenter(this._Marker.getPosition()))},t.prototype.updateLoc=function(t,e){if(console.log("["+t+" ### "+e+"]"),0!=t&&0!=e){var o=this,s=new google.maps.LatLng(t,e);return o._Marker.setPosition(s),o._Map.panTo(s),o.getAddress(s,function(t){o.AddressFoundEvent.trigger({},t)})}},t.prototype.getAddress=function(t,e){this._IsInit&&this._Geocoder.geocode({location:t},function(t,o){o==google.maps.GeocoderStatus.OK?(console.log(t[0]),e({status:!0,address:t[0]})):(console.log("Geocode failed reason: "+o),e({status:!1,address:""}))})},t}();e.GoogleMap=r},"../static_dirs/desktop/ts/App/HttpService.ts":
/*!****************************************************!*\
  !*** ../static_dirs/desktop/ts/App/HttpService.ts ***!
  \****************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./UIToast */"../static_dirs/desktop/ts/App/UIToast.ts"),r=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),a=function(){return function(t){this.progress_up=function(t){console.log("default_progress_up")},this.progress_dn=function(t){console.log("default_progress_dn")},this.complete=function(t,e){console.log("default_complete")},r.ObjectUtil.merge(this,t)}}();e.HttpResponseHandler=a;var l=function(){function t(){this._handle=null}return t.prototype.abort=function(){this._handle&&this._handle.abort()},t.prototype.get=function(t,e,o){console.log("+get");var s={type:"GET",url:t,data:e},n=new a({complete:o});return console.log(n),this._request(s,n)},t.prototype.post=function(t,e,o){console.log("+post");var s={type:"POST",url:t,data:e},n=new a({complete:o});return console.log(n),this._request(s,n)},t.prototype.file=function(t,e,o){console.log("+file");var s={type:"POST",url:t,data:e,processData:!1,contentType:!1};return this._request(s,o)},t.prototype.request=function(t,e){return console.log("+request"),this._request(t,e)},t.prototype._request=function(t,e){void 0===e&&(e=a);var o={dataType:"text",xhr:function(){var t=n.default.ajaxSettings.xhr();return t.upload.onprogress=function(t){if(t.lengthComputable){var o=t.loaded/t.total*100;e.progress_up(o)}},t.onprogress=function(t){if(t.lengthComputable){var o=t.loaded/t.total*100;e.progress_dn(o)}},t},complete:function(t){console.log("+comeplete : "+t.status)},success:function(t,o,s){console.log("+success");var n=s.getResponseHeader("content-type");if(console.log("content-type: "+n),n.indexOf("json")>-1){console.log("data : "+t);var i=JSON.parse(t);switch(i.status){case 302:console.log("redirect"),location.href=i.url;break;case 200:case 204:e.complete(!0,i);break;case 401:default:e.complete(!1,i)}}else n.indexOf("html")>-1?e.complete(!0,t):(console.log("content-type: unknown"),e.complete(!1,{message:"Unknown response",data:"unexpected content type"}))},error:function(t,o){console.log("+error : "+t.status),i.UIToast.Instance().show("Network error occured"),e.complete(!1,{message:"Network failed",data:{error:o}})}};n.default.extend(t,o),this._handle=n.default.ajax(t)},t}();e.HttpService=l},"../static_dirs/desktop/ts/App/UINoti.ts":
/*!***********************************************!*\
  !*** ../static_dirs/desktop/ts/App/UINoti.ts ***!
  \***********************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),r=function(){function t(t){this.link=window.location.href,this.title="Alert",this.text="Notification",this.timeout=5e3,i.ObjectUtil.merge(this,t)}return t.make=function(t){return new this(t)},t.prototype.show=function(){var t=this,e=n.default("#wt-noti").clone().removeAttr("id");e.fadeIn({duration:1e3,start:function(){e.find(".wt-notititle").html(t.title),e.find(".wt-notibody").html(t.text),e.find(".wt-notilink").attr("href",t.link)}}).delay(t.timeout).fadeOut({duration:1e3,always:function(){e.remove()}}),n.default(".wt-notibox").append(e)},t}();e.UINoti=r},"../static_dirs/desktop/ts/App/UIToast.ts":
/*!************************************************!*\
  !*** ../static_dirs/desktop/ts/App/UIToast.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=function(){function t(){}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype.show=function(t,e){void 0===t&&(t="Error"),void 0===e&&(e=1800),n.default(".wt-toast").fadeIn({duration:500,start:function(){n.default(this).text(t)}}).delay(e).fadeOut(500)},t.prototype.hide=function(){n.default(".wt-toast").hide()},t._instance=null,t}();e.UIToast=i},"../static_dirs/desktop/ts/App/UIWidgets.ts":
/*!**************************************************!*\
  !*** ../static_dirs/desktop/ts/App/UIWidgets.ts ***!
  \**************************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts"),r=o(/*! ./HttpService */"../static_dirs/desktop/ts/App/HttpService.ts"),a=13,l=27,c=37,p=38,u=39,d=40,h=function(){function t(){this.$overlay=null,this.$closebtn=null,this.$body=null,this.$html=null,this.$html_def=null,this._shown=!1,this._options_def={closeBtn:!0,closeOnEscape:!0,closeOnClickOutside:!0,onClose:function(){}},this._options=null,this.$overlay=n.default("#wt-overlay"),this.$closebtn=this.$overlay.find(".wt-closebtn"),this.$body=this.$overlay.find(".wt-overlay-body"),this.$html_def=n.default('<div style="width:80%; height:inherit; margin: 0 auto; background:#fff;" data-type="none"></div>'),this.$html=this.$html_def,this.$closebtn.on("click",this,this._onclose),this.$overlay.on("click",this,this._onclick),this.$overlay.on("keyup",this,this._onKeyUp),this._shown=!1,this._options=i.ObjectUtil.merge(this._options_def,{})}return t.Instance=function(){return this._instance||(this._instance=new this)},t.prototype._apply_options=function(t){this._options=i.ObjectUtil.merge(this._options_def,t),!1===this._options.closeBtn?this.$closebtn.hide():this.$closebtn.show()},t.prototype.shown=function(){return this._shown},t.prototype.show=function(t,e){return void 0===t&&(t=this.$html_def),void 0===e&&(e={}),this._apply_options(e),this.$overlay.show(),this.update(t),this.$overlay.focus(),this._shown=!0,n.default("body").toggleClass("ui-noscroll",this._shown),this},t.prototype.hide=function(){return this.$overlay.hide(),this._shown=!1,n.default("body").toggleClass("ui-noscroll",this._shown),this},t.prototype.update=function(t){this.$html=n.default(t),this.$body.html(this.$html.show());var e=this.$html.find(".wt-overlay-scroll");if(e.exists()){var o=this.$body.height(),s=this.$html.height(),i=e.height();if(o<s){var r=i-(s-o);console.log("h4 : "+r),e.height(r)}}return this},t.prototype.clear=function(){return this.update(this.$html_def),this},t.prototype.close=function(){console.log("CLOSE OVERLAY"),this.$closebtn.click()},t.prototype._close=function(t){var e=this.$html.hide();"persist"==e.attr("data-type")?setTimeout(function(){e.appendTo("body")},100):e.remove(),this.hide()},t.prototype._onclose=function(t){console.log("ONCLOSE OVERLAY"),t.data._close(t)},t.prototype._onclick=function(t){console.log("ONCLICK OVERLAY");var e=t.data;!0===e._options.closeOnClickOutside&&n.default(t.target).parent().is(e.$overlay)&&e._close(t)},t.prototype._onKeyUp=function(t){console.log("ONKEYUP OVERLAY");var e=t.data;!0===e._options.closeOnEscape&&t.keyCode==l&&e._close(t)},t._instance=null,t}();e.UIOverlay=h;var f=function(){function t(){}return t.prototype.show=function(t,e){return h.Instance().show(t,{closeOnClickOutside:!0,onClose:this.onClose}),this},t.prototype.update=function(t){return h.Instance().update(t),this},t.prototype.hide=function(){return h.Instance().hide(),this},t.prototype.close=function(){return h.Instance().close(),this},t.prototype.onClose=function(t){},t}();e.UIModal=f;var _=function(){function t(){}return t.prototype.show=function(t){h.Instance().show(t)},t.prototype.hide=function(){h.Instance().hide()},t.prototype.close=function(){h.Instance().close()},t}();e.UIDialog=_;var g=function(){function t(t,e,o){this._name="UIOptionList",this._count=0,this._selectedIndex=0,this._jsonItemsList=null,this._config={minLength:1,delay:0},this._overrides={source:function(t,e){console.log("implement source")},itemCreate:function(t){console.log("implement itemCreate")},onItemSelect:function(t,e){console.log("implement onItemSelect")},onEnter:function(t,e){console.log("implement onEnter")}},this._scrollTimer=null,this.$_self=null,this.$_list=null,this.$_selectedItem=null,console.log("+UIOptionList : "+t.prop("tagName")),this.$_self=t,t.optionsList=this,i.ObjectUtil.merge(this._config,o),i.ObjectUtil.merge(this._overrides,e),this._create()}return t.prototype.source=function(t,e){this._overrides.source&&this._overrides.source(t,e)},t.prototype.itemCreate=function(t){return this._overrides.itemCreate?this._overrides.itemCreate(t):""},t.prototype.onItemSelect=function(t,e){this._overrides.onItemSelect&&this._overrides.onItemSelect(t,e)},t.prototype.onEnter=function(t,e){this._overrides.onEnter&&this._overrides.onEnter(t,e)},t.prototype._create=function(){console.log("+_create["+this._name+"]"),this.$_list=n.default('<ul class="wt-search-list wt-search-list-app" >'),this.$_list.css({width:this.$_self.css("width")}),this.$_list.on("mouseenter","li",this._onItemHover.bind(this)),this.$_list.on("click","li",this._onItemClick.bind(this)),this.$_list.on("scroll",this._onListScroll.bind(this)),this.$_self.on("keyup",this._onKeyUp.bind(this)),this.$_self.on("keypress",this._onKeyPress.bind(this)),this.$_self.on("focus",this._onFocus.bind(this)),this.$_self.on("blur",this._onUnfocus.bind(this)),this.$_self.on("DOMNodeRemoved",this._destroy.bind(this)),this.$_self.after(this.$_list)},t.prototype._destroy=function(t){this.$_list.remove()},t.prototype._onFocus=function(t){console.log("+_onFocus"),this.$_list.show()},t.prototype._onUnfocus=function(t){this.$_list.hide()},t.prototype._onData=function(t){console.log("+_onData");if(this.$_list.html(""),this._jsonItemsList=t,this._count=t.length,this._selectedIndex=0,this._count>0){for(var e in t)this.$_list.append(this.itemCreate(t[e]));this.$_selectedItem=this.$_list.children().eq(this._selectedIndex),this.$_selectedItem.addClass("wt-search-item-a")}else this.$_list.html('<div class="wt-search-item">No search results</div>');this.$_list.show()},t.prototype._setItemSelected=function(t){var e=this._selectedIndex;if(console.log("oldIndex : "+e+" newIndex : "+t),t>=0&&t<this._count){if(e!=t){var o=this.$_list.children();o.eq(e).removeClass("wt-search-item-a"),this.$_selectedItem=o.eq(t).addClass("wt-search-item-a"),this._selectedIndex=t,this._notifyItemSelected()}var s=this.$_selectedItem.position().top,n=this.$_selectedItem.outerHeight(),i=this.$_list.scrollTop(),r=this.$_list.outerHeight();console.log("itemTop : "+s+" itemHeight : "+n),console.log("bodyScroll : "+i+" bodyHeight : "+r),s<0?(console.log("scrollup"),this.$_list.scrollTop(i+s)):s+n>r&&(console.log("scrolldown"),this.$_list.scrollTop(i+n-(r-s))),this.$_list.show()}},t.prototype._onListScroll=function(t){var e=this;e._scrollTimer=setTimeout(function(){e._scrollTimer=null},300)},t.prototype._onItemHover=function(t){console.log("+_onItemHover"),this._scrollTimer||this._setItemSelected(n.default(t.target).index())},t.prototype._onItemClick=function(t){console.log("+_onItemClick"),this._setItemSelected(n.default(t.target).index())},t.prototype._notifyItemSelected=function(){this._count>0&&this._jsonItemsList&&this.onItemSelect(this.$_self,this._jsonItemsList[this._selectedIndex])},t.prototype._onKeyPress=function(t){if(console.log("+_onKeyPress : "+t.keyCode),t.keyCode===a){t.preventDefault();var e=this._count>0&&this._jsonItemsList?this._jsonItemsList[this._selectedIndex]:null;this.onEnter(this.$_self,e),this._onUnfocus(t)}},t.prototype._onKeyUp=function(t){console.log("+_onKeyUp");var e=!0;switch(t.keyCode){case p:this._setItemSelected(this._selectedIndex-1);break;case d:this._setItemSelected(this._selectedIndex+1);break;case a:break;case c:case u:this._onFocus({});break;default:console.log("keycode : "+t.keyCode),e=!1}if(e)t.preventDefault();else{var o=this.$_self.val();o.length>=this._config.minLength&&this.source(o,this._onData.bind(this))}},t}();e.UIOptionList=g;var m=function(){function t(t,e){this.$_ui=null,this.$_ui='<div class="wt-progress-outer" >\n                    <div class="wt-progress-inner">\n                    <div class="wt-progress-filename">'+t+'</div>\n                    <div class="wt-progress-bar">&nbsp;0%</div></div>\n                    <div class="wt-progress-control">\n                    <button class="ui-btn">'+e+"</button>\n                    </div></div>"}return t.prototype.show=function(t){t.append(this.$_ui),this.$_ui.show()},t}();e.UIProgressBar=m;var v=function(){function t(t,e,o){this._name="UIFileUpload",this._uploads=[],this.$_hidden=null,this.$_ui=null,this.$_self=null,this._overrides={},this._config={maxFiles:1,mimeType:"image",maxSize:1024},console.log("+UIFileUpload : "+t.prop("tagName")),i.ObjectUtil.merge(this._overrides,e),i.ObjectUtil.merge(this._config,o),this.$_self=t,this._create()}return t.prototype._create=function(){console.log("+_create["+this._name+"]"),this.$_ui=n.default('<div class="wt-progress-div" ></div>'),this.$_ui.css({width:this.$_self.css("width")}),this.$_hidden=n.default('<input type="hidden" name="files" value="" >'),this.$_self.before(this.$_hidden),this.$_self.after(this.$_ui),this.$_self.on("change",this._upload.bind(this)),this.$_self.on("DOMNodeRemoved",this._destroy.bind(this))},t.prototype._destroy=function(t){console.log("+_destroy["+this._name+"]"),this.$_ui.remove(),this.$_hidden.remove()},t.prototype._upload=function(t){console.log("+_upload"),t.stopPropagation(),t.preventDefault();var e=t.target,o=n.default(e)[0].files,s=this.$_ui.find(".wt-progress-outer").length;console.log("count : "+s);var i=this._config.maxFiles-s;if(0==i)return e.value="",void console.log("Already attached to max limit");i>o.length&&(i=o.length);for(var r=0;r<i;++r)console.log("name : "+o[r].name+" data : "+o[r]),this._uploadFile(o[r])},t.prototype._uploadFile=function(t){console.log("+_uploadFile");var e=this,o=new FormData,s=t.name,a=i.AppUtil.csrfToken();for(var l in a)o.append(l,a[l]);o.append("image",t);var c=n.default('<div class="wt-progress-outer" >\'\n                        <div class="wt-progress-inner">\'\n                        <div class="wt-progress-filename">'+s+'</div>\'\n                        <div class="wt-progress-bar">&nbsp;0%</div></div>\'\n                        <div class="wt-progress-control">\'\n                        <button class="ui-btn">Cancel</button>\'\n                        </div></div>'),p=c.find(".ui-btn");p.on("click",e._cancel.bind(e)),e.$_ui.append(c);var u={progress_up:function(t){e._progress(t)},complete:function(t,o){if(t){console.log("upload finished");var s=o.data.upload_ids;e._uploads.push(s),e.$_hidden.val(e._uploads.toString()),p.data("request",null),p.data("upload_ids",s),p.text("Remove"),console.log("ids : "+e._uploads.toString())}else console.log("file upload failed reason : "+JSON.stringify(o)),p.remove()}},d=new r.HttpResponseHandler(u),h=new r.HttpService;h.file("/upload/file/",o,d),p.data("request",h)},t.prototype._cancel=function(t){console.log("+_cancel"),t.preventDefault();var e=n.default(t.target);if(console.log(e.text()),"Cancel"==e.text()){e.data("request").abort(),console.log("aborted")}else{var o=e.data("upload_id"),s=this._uploads.indexOf(o);this._uploads.splice(s,1),this.$_hidden.val(this._uploads),console.log("ids : "+this._uploads.toString())}e.parents(".wt-progress-outer").remove()},t.prototype._progress=function(t){console.log("progress : "+t+"%");var e=this.$_ui.find(".wt-progress-bar");e.css({width:t+"%"}),e.html(t+"%")},t}();e.UIFileUpload=v;var y=function(){function t(t,e){this._name="UITabs",this._total=2,this._active=null,this._activeIndex=0,this._overrides={beforeLoad:function(t){console.log("implement beforeLoad()")},afterLoad:function(t){console.log("implement afterLoad()")},source:function(t){console.log("implement source()")}},this.$_self=null,console.log("+UITabs : "+t.prop("tagName")),this.$_self=t,this._create()}return t.prototype._create=function(){var t=this;console.log("+_create["+t._name+"]");var e=t.$_self.find(".wt-switchtab-nav > li > a[rel]");t._total=e.length,console.log("Tabs : "+t._total),t._active=e.eq(t._activeIndex);var o=t._active.prop("rel");t.$_self.find(o).show(),e.on("click",function(e){console.log("+tabClicked"),e.preventDefault();var o=t._active.prop("rel");t._active.removeClass("wt-switchtab-a"),t.$_self.find(o).hide(),t._active=n.default(this),o=t._active.prop("rel"),t._active.prop("class","wt-switchtab-a"),t.$_self.find(o).show()})},t}();e.UITabs=y},"../static_dirs/desktop/ts/index.ts":
/*!******************************************!*\
  !*** ../static_dirs/desktop/ts/index.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,o){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=s(o(/*! jquery */"jquery")),i=o(/*! ./App/App */"../static_dirs/desktop/ts/App/App.ts"),r=o(/*! ./App/UIWidgets */"../static_dirs/desktop/ts/App/UIWidgets.ts"),a=o(/*! ./App/UIWidgets */"../static_dirs/desktop/ts/App/UIWidgets.ts");e.UIOverlay=a.UIOverlay,e.UIModal=a.UIModal,e.UIDialog=a.UIDialog;var l=o(/*! ./App/AppForm */"../static_dirs/desktop/ts/App/AppForm.ts");e.AjaxForm=l.AjaxForm,e.AppFormHandler=l.AppFormHandler;var c=o(/*! ./App/UINoti */"../static_dirs/desktop/ts/App/UINoti.ts");e.UINoti=c.UINoti;var p=o(/*! ./App/UIToast */"../static_dirs/desktop/ts/App/UIToast.ts");e.UIToast=p.UIToast;var u=o(/*! ./App/HttpService */"../static_dirs/desktop/ts/App/HttpService.ts");e.HttpResponseHandler=u.HttpResponseHandler,e.HttpService=u.HttpService;var d=o(/*! ./App/GoogleMap */"../static_dirs/desktop/ts/App/GoogleMap.ts");e.GoogleMap=d.GoogleMap;var h=o(/*! ./App/AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts");e.ObjectUtil=h.ObjectUtil,e.AppUtil=h.AppUtil,e.FormUtil=h.FormUtil;var f=o(/*! ./App/AppUtils */"../static_dirs/desktop/ts/App/AppUtils.ts");e.AppEvent=f.AppEvent,e.AppGeo=f.AppGeo,e.AppCookie=f.AppCookie,e.AppStorage=f.AppStorage,n.default(function(){n.default.fn.extend({exists:function(){return this.length>0},OptionList:function(t,e){new r.UIOptionList(this,t,e)},Tabs:function(t,e){new r.UITabs(this,t)},FileUpload:function(t,e){new r.UIFileUpload(this,t,e)}}),i.App.Instance().show()})},jquery:
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=jQuery}});